{"version":3,"sources":["client.ts"],"names":["AnthropicClient","BackendClient","create","extraHeaders","parseEnv","z","preprocess","value","Object","fromEntries","String","split","filter","pair","includes","map","record","string","createAnthropic","settings","baseURL","getEnv","apiKey","headers","fetch","vercelFetcher"],"mappings":";;;;;;;;AAwBO,MAAMA,wBAAwBC,aAAAA,CAAAA;EAxBrC;;;EAyBYC,MAA4B,GAAA;AACpC,IAAA,MAAMC,eAAeC,QACnB,CAAA,uBAAA,EACAC,CAAEC,CAAAA,UAAAA,CAAW,CAACC,KAAAA,KAAAA;AACZ,MAAOC,OAAAA,MAAAA,CAAOC,WACZC,CAAAA,MAAAA,CAAOH,KAAS,IAAA,EAAA,EACbI,KAAM,CAAA,GAAA,CACNC,CAAAA,MAAAA,CAAO,CAACC,IAAAA,KAASA,KAAKC,QAAS,CAAA,GAAA,CAAA,CAAA,CAC/BC,GAAI,CAAA,CAACF,SAASA,IAAKF,CAAAA,KAAAA,CAAM,GAAA,CAAA,CAAA,CAAA;AAEhC,KAAA,EAAGN,EAAEW,MAAOX,CAAAA,CAAAA,CAAEY,MAAM,EAAA,CAAA,CAAA,CAAA;AAGtB,IAAA,OAAOC,eAAgB,CAAA;AACrB,MAAA,GAAG,IAAKC,CAAAA,QAAAA;AACRC,MAAAA,OAAAA,EAAS,IAAKD,CAAAA,QAAAA,EAAUC,OAAWC,IAAAA,MAAAA,CAAO,wBAAA,CAAA;AAC1CC,MAAAA,MAAAA,EAAQ,IAAKH,CAAAA,QAAAA,CAASG,MAAUD,IAAAA,MAAAA,CAAO,mBAAA,CAAA;MACvCE,OAAS,EAAA;QACP,GAAGpB,YAAAA;AACH,QAAA,GAAG,KAAKgB,QAAUI,EAAAA;AACpB,OAAA;MACAC,KAAOC,EAAAA,aAAAA,CAAc,IAAKN,CAAAA,QAAAA,EAAUK,KAAAA;KACtC,CAAA;AACF;AACF","file":"client.js","sourcesContent":["/**\n * Copyright 2025 Â© BeeAI a Series of LF Projects, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createAnthropic, AnthropicProvider, AnthropicProviderSettings } from \"@ai-sdk/anthropic\";\nimport { BackendClient } from \"@/backend/client.js\";\nimport { getEnv, parseEnv } from \"@/internals/env.js\";\nimport { z } from \"zod\";\nimport { vercelFetcher } from \"@/adapters/vercel/backend/utils.js\";\n\nexport type AnthropicClientSettings = AnthropicProviderSettings;\n\nexport class AnthropicClient extends BackendClient<AnthropicClientSettings, AnthropicProvider> {\n  protected create(): AnthropicProvider {\n    const extraHeaders = parseEnv(\n      \"ANTHROPIC_API_HEADERS\",\n      z.preprocess((value) => {\n        return Object.fromEntries(\n          String(value || \"\")\n            .split(\",\")\n            .filter((pair) => pair.includes(\"=\"))\n            .map((pair) => pair.split(\"=\")),\n        );\n      }, z.record(z.string())),\n    );\n\n    return createAnthropic({\n      ...this.settings,\n      baseURL: this.settings?.baseURL || getEnv(\"ANTHROPIC_API_BASE_URL\"),\n      apiKey: this.settings.apiKey || getEnv(\"ANTHROPIC_API_KEY\"),\n      headers: {\n        ...extraHeaders,\n        ...this.settings?.headers,\n      },\n      fetch: vercelFetcher(this.settings?.fetch),\n    });\n  }\n}\n"]}