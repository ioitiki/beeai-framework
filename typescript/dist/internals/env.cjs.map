{"version":3,"sources":["env.ts"],"names":["getEnv","key","fallback","getProp","process","env","parseEnv","schema","defaultValue","value","result","safeParse","success","undefined","FrameworkError","error","data","asBoolean","z","string","String","trim","toLowerCase","hasEnv"],"mappings":";;;;;;;;AAsBO,SAASA,MAAAA,CAAOC,KAAaC,QAAiB,EAAA;AACnD,EAAOC,OAAAA,kBAAAA,CAAQC,QAAQC,GAAK,EAAA;AAACJ,IAAAA;KAAMC,QAAAA,CAAAA;AACrC;AAFgBF,MAAAA,CAAAA,MAAAA,EAAAA,QAAAA,CAAAA;AAIT,SAASM,QAAAA,CACdL,GACAM,EAAAA,MAAAA,EACAC,YAAqB,EAAA;AAErB,EAAMC,MAAAA,KAAAA,GAAQT,MAAOC,CAAAA,GAAAA,CAAQO,IAAAA,YAAAA;AAC7B,EAAME,MAAAA,MAAAA,GAASH,MAAOI,CAAAA,SAAAA,CAAUF,KAAAA,CAAAA;AAChC,EAAI,IAAA,CAACC,OAAOE,OAAS,EAAA;AACnB,IAAA,IAAIH,UAAUI,MAAW,EAAA;AACvB,MAAA,MAAM,IAAIC,yBAAAA,CAAe,CAA0Bb,uBAAAA,EAAAA,GAAAA,CAAkB,aAAA,CAAA,CAAA;AACvE;AAEA,IAAA,MAAM,IAAIa,yBAAAA,CAAe,CAA6Cb,0CAAAA,EAAAA,GAAAA,CAAS,EAAA,CAAA,EAAA;MAACS,MAAOK,CAAAA;AAAM,KAAA,CAAA;AAC/F;AACA,EAAA,OAAOL,MAAOM,CAAAA,IAAAA;AAChB;AAfgBV,MAAAA,CAAAA,QAAAA,EAAAA,UAAAA,CAAAA;AAgBhBA,QAAAA,CAASW,SAAY,GAAA,CAAChB,GAAaC,EAAAA,QAAAA,GAAW,KAAK,KAAA;AACjD,EAAA,OAAOI,QAASL,CAAAA,GAAAA,EAAKiB,KAAEC,CAAAA,MAAAA,EAAUC,EAAAA,MAAAA,CAAOlB,QAAAA,CAAAA,CAAWmB,CAAAA,IAAAA,EAAOC,CAAAA,WAAAA,EAAkB,KAAA,MAAA;AAC9E,CAAA;AAEO,SAASC,OAAOtB,GAAW,EAAA;AAChC,EAAOE,OAAAA,kBAAAA,CAAQC,QAAQC,GAAK,EAAA;AAACJ,IAAAA;GAAI,CAAMY,KAAAA,MAAAA;AACzC;AAFgBU,MAAAA,CAAAA,MAAAA,EAAAA,QAAAA,CAAAA","file":"env.cjs","sourcesContent":["/**\n * Copyright 2025 Â© BeeAI a Series of LF Projects, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { z, ZodSchema } from \"zod\";\nimport { FrameworkError } from \"@/errors.js\";\nimport { getProp } from \"@/internals/helpers/object.js\";\n\nexport function getEnv(key: string, fallback?: never): string | undefined;\nexport function getEnv(key: string, fallback: string): string;\nexport function getEnv(key: string, fallback?: string) {\n  return getProp(process.env, [key], fallback);\n}\n\nexport function parseEnv<T extends ZodSchema>(\n  key: string,\n  schema: T,\n  defaultValue?: string,\n): z.output<T> {\n  const value = getEnv(key) ?? defaultValue;\n  const result = schema.safeParse(value);\n  if (!result.success) {\n    if (value === undefined) {\n      throw new FrameworkError(`The required variable '${key}' is not set!`);\n    }\n\n    throw new FrameworkError(`Failed to parse the environment variable (${key})!`, [result.error]);\n  }\n  return result.data;\n}\nparseEnv.asBoolean = (key: string, fallback = false) => {\n  return parseEnv(key, z.string(), String(fallback)).trim().toLowerCase() === \"true\";\n};\n\nexport function hasEnv(key: string) {\n  return getProp(process.env, [key]) !== undefined;\n}\n"]}