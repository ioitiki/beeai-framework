{"version":3,"sources":["prompts.ts"],"names":["DeepThinkReActAgentAssistantPrompt","ReActAgentAssistantPrompt","fork","config","template","DeepThinkReActAgentSystemPrompt","ReActAgentSystemPrompt","defaults","instructions","functions","formatDate","date","createdAt","Date","Intl","DateTimeFormat","dateStyle","timeStyle","format","DeepThinkReActAgentSchemaErrorPrompt","ReActAgentSchemaErrorPrompt","DeepThinkReActAgentUserPrompt","ReActAgentUserPrompt","DeepThinkReActAgentToolNotFoundPrompt","ReActAgentToolNotFoundPrompt","DeepThinkReActAgentToolErrorPrompt","ReActAgentToolErrorPrompt","DeepThinkReActAgentToolInputErrorPrompt","ReActAgentToolInputErrorPrompt"],"mappings":";;AA0BO,MAAMA,kCAAqCC,GAAAA,yBAAAA,CAA0BC,IAAK,CAAA,CAACC,MAAAA,KAAAA;AAChFA,EAAAA,MAAAA,CAAOC,QAAW,GAAA,CAAA;;;;;AACpB,CAAA;AAEO,MAAMC,+BAAkCC,GAAAA,sBAAAA,CAAuBJ,IAAK,CAAA,CAACC,MAAAA,KAAAA;AAC1EA,EAAAA,MAAAA,CAAOI,SAASC,YAAe,GAAA,EAAA;AAC/BL,EAAOM,MAAAA,CAAAA,SAAAA,CAAUC,aAAa,WAAA;AAC5B,IAAMC,MAAAA,IAAAA,GAAO,KAAKC,SAAY,GAAA,IAAIC,KAAK,IAAKD,CAAAA,SAAS,CAAI,mBAAA,IAAIC,IAAAA,EAAAA;AAC7D,IAAO,OAAA,IAAIC,IAAKC,CAAAA,cAAAA,CAAe,OAAS,EAAA;MACtCC,SAAW,EAAA,MAAA;MACXC,SAAW,EAAA;KACb,CAAA,CAAGC,OAAOP,IAAAA,CAAAA;AACZ,GAAA;AACAR,EAAAA,MAAAA,CAAOC,QAAW,GAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCpB,CAAA;AAEO,MAAMe,oCAAuCC,GAAAA,2BAAAA,CAA4BlB,IAAK,CAAA,CAACC,MAAAA,KAAAA;AACpFA,EAAAA,MAAAA,CAAOC,QAAW,GAAA,CAAA;;AAEpB,CAAA;AAEO,MAAMiB,6BAAgCC,GAAAA,oBAAAA,CAAqBpB,IAAK,CAAA,CAACC,MAAAA,KAAAA;AACtEA,EAAAA,MAAAA,CAAOC,QAAW,GAAA,CAAA,SAAA,CAAA;AACpB,CAAA;AAEO,MAAMmB,qCAAwCC,GAAAA,4BAAAA,CAA6BtB,IAAK,CAAA,CAACC,MAAAA,KAAAA;AACtFA,EAAAA,MAAAA,CAAOC,QAAW,GAAA,CAAA;;;;AAIpB,CAAA;AAEO,MAAMqB,kCAAqCC,GAAAA,yBAAAA,CAA0BxB,IAAK,CAAA,CAACC,MAAAA,KAAAA;AAChFA,EAAAA,MAAAA,CAAOC,QAAW,GAAA,CAAA;;;AAGpB,CAAA;AAEO,MAAMuB,uCAA0CC,GAAAA,8BAAAA,CAA+B1B,IACpF,CAAA,CAACC,MAAAA,KAAAA;AACCA,EAAAA,MAAAA,CAAOC,QAAW,GAAA,CAAA;;;AAGpB,CAAA","file":"prompts.js","sourcesContent":["/**\n * Copyright 2025 Â© BeeAI a Series of LF Projects, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  ReActAgentAssistantPrompt,\n  ReActAgentSchemaErrorPrompt,\n  ReActAgentSystemPrompt,\n  ReActAgentToolErrorPrompt,\n  ReActAgentToolInputErrorPrompt,\n  ReActAgentToolNotFoundPrompt,\n  ReActAgentUserPrompt,\n} from \"@/agents/react/prompts.js\";\n\nexport const DeepThinkReActAgentAssistantPrompt = ReActAgentAssistantPrompt.fork((config) => {\n  config.template = `{{#thought}}<think>{{.}}</think>\\n\\n{{/thought}}{{#toolName}}Tool Name: {{.}}\\n{{/toolName}}{{#toolInput}}Tool Input: {{.}}\\n{{/toolInput}}{{#finalAnswer}}Response: {{.}}{{/finalAnswer}}`;\n});\n\nexport const DeepThinkReActAgentSystemPrompt = ReActAgentSystemPrompt.fork((config) => {\n  config.defaults.instructions = \"\";\n  config.functions.formatDate = function () {\n    const date = this.createdAt ? new Date(this.createdAt) : new Date();\n    return new Intl.DateTimeFormat(\"en-US\", {\n      dateStyle: \"full\",\n      timeStyle: \"medium\",\n    }).format(date);\n  };\n  config.template = `You are an AI assistant.\n{{#tools.length}}\n# Tools\nYou have access to a set of tools that can be used to retrieve information and perform actions.\n\n{{#tools}}\nTool Name: {{name}}\nTool Description: {{description}}\nTool Input Schema: {{schema}}\n\n{{/tools}}\n\n## Guidelines for using tools\n- Do not directly mention the existence of tools. Act as if these are your inherent capabilities.\n- Do not speculate about specific numbers or facts, obtain them using tools.\n- The tool responses appear as if provided by the user, but in reality they are inserted externally and the user does not see them. Act as if the tool responses were obtained by your inherent capabilities.\n- When you don't have enough information, ask the user for details. Make reasonable assumptions. Do not ask the user to directly provide tool input, ask like you would in a normal conversation.\n- If you need to call multiple tools, simply think out what tools you need to call, and then call the first one and end your message. Don't worry, you will be given opportunity to call as many tools as you want.\n\n# Assistant message structure\n- After thinking, write a message that has to follow a rigid structure. Deviations will result in an error.\n- If you don't need to use a tool, already have all the information and want to answer the user's query, or you want to ask the user for more information, start the message with 'Response:', like this:\nResponse: [response message sent to the user]\n- If you want to call a tool, start your message with 'Tool Name:', followed by the tool name, and then on the next line 'Tool Input:', followed by the tool input JSON, like this:\nTool Name: [name of the tool, as listed above]\nTool Input: [JSON object, following the schema defined above]\n- DO NOT make the line prefixes ('Response:', 'Tool Name:', etc.) **bold**, always keep them plain.\n- As soon as you write these lines, you will be provided the tool result. You will then have the opportunity to call more tools, or to finalize by sending a 'Response:' to the user.\n{{/tools.length}}\n\n# Additional context\nThe current date and time is: {{formatDate}}\n\n{{#instructions}} \n# Additional instructions\n{{.}} \n{{/instructions}}\n`;\n});\n\nexport const DeepThinkReActAgentSchemaErrorPrompt = ReActAgentSchemaErrorPrompt.fork((config) => {\n  config.template = `Error: The generated response does not adhere to the communication structure mentioned in the system prompt.\nYou communicate only in instruction lines. Valid instruction lines are 'Tool Name:' and then 'Tool Input:', or 'Response:'.`;\n});\n\nexport const DeepThinkReActAgentUserPrompt = ReActAgentUserPrompt.fork((config) => {\n  config.template = `{{input}}`;\n});\n\nexport const DeepThinkReActAgentToolNotFoundPrompt = ReActAgentToolNotFoundPrompt.fork((config) => {\n  config.template = `Tool does not exist!\n{{#tools.length}}\nUse one of the following tools: {{#trim}}{{#tools}}{{name}},{{/tools}}{{/trim}}\n{{/tools.length}}`;\n});\n\nexport const DeepThinkReActAgentToolErrorPrompt = ReActAgentToolErrorPrompt.fork((config) => {\n  config.template = `The tool has failed; the error log is shown below. If the tool cannot accomplish what you want, use a different tool or explain why you can't use it.\n\n{{reason}}`;\n});\n\nexport const DeepThinkReActAgentToolInputErrorPrompt = ReActAgentToolInputErrorPrompt.fork(\n  (config) => {\n    config.template = `{{reason}}\n\nHINT: If you're convinced that the input was correct but the tool cannot process it then use a different tool or say I don't know.`;\n  },\n);\n"]}